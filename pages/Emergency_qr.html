<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Emergency QR - SehatPal</title>
<link rel="stylesheet" href="../css/styles.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
<header class="hub-header">
<div class="container">
<nav class="nav-tabs">
<a href="dashboard.html" class="nav-tab">‚ö° Dashboard</a>
<a href="emergency_qr.html" class="nav-tab active">üèÅ Emergency QR</a>
</nav>
</div>
</header>
<main class="container mt-8 text-center">
<div class="panel" style="max-width: 500px; margin: 0 auto;">
<div id="qrcode" style="display: flex; justify-content: center; margin-bottom: 2rem;"></div>
<h2 class="text-2xl font-bold" id="qr-name">Loading...</h2>
<p class="text-gray-500">Scan this in case of emergency</p>
</div>
</main>
<script src="../js/script.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const userId = getCurrentUser();
    const data = getPatientData(userId);
    if(data) {
        document.getElementById('qr-name').textContent = data.name;
        new QRCode(document.getElementById("qrcode"), {
            text: `Name: ${data.name}, Contact: ${data.emergencyContact}`,
            width: 200,
            height: 200
        });
    }
});
</script>
</body>
</html>